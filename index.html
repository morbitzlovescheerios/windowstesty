<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Google OS x macOS Concept</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<style>
:root {
  --bg-desktop: url('https://images.unsplash.com/photo-1618005182384-a83a8bd57fbe?q=80&w=2564&auto=format&fit=crop');
  --bg-window: rgba(255, 255, 255, 0.95);
  --bg-header: #e8eaed;
  --text-main: #202124;
  --text-muted: #5f6368;
  --glass-bg: rgba(255, 255, 255, 0.65);
  --glass-border: rgba(255, 255, 255, 0.4);
}

[data-theme="dark"] {
  --bg-desktop: url('https://images.unsplash.com/photo-1550684848-fac1c5b4e853?q=80&w=2564&auto=format&fit=crop');
  --bg-window: rgba(32, 33, 36, 0.95);
  --bg-header: #303134;
  --text-main: #e8eaed;
  --text-muted: #9aa0a6;
  --glass-bg: rgba(32, 33, 36, 0.65);
  --glass-border: rgba(255, 255, 255, 0.1);
}

body {
  margin: 0;
  padding: 0;
  font-family: '-apple-system', 'Roboto', sans-serif;
  background-image: var(--bg-desktop);
  background-size: cover;
  background-position: center;
  height: 100vh;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  color: var(--text-main);
  transition: background 0.3s;
}

#topbar {
  height: 28px;
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0 16px;
  font-size: 13px;
  font-weight: 500;
  border-bottom: 1px solid var(--glass-border);
  z-index: 9999;
}

.topbar-section {
  display: flex;
  align-items: center;
  gap: 16px;
}

.topbar-item {
  cursor: pointer;
  padding: 2px 6px;
  border-radius: 4px;
  transition: background 0.1s;
}

.topbar-item:hover {
  background: rgba(0, 0, 0, 0.1);
}

[data-theme="dark"] .topbar-item:hover {
  background: rgba(255, 255, 255, 0.1);
}

.topbar-bold {
  font-weight: 700;
}

#desktop {
  flex-grow: 1;
  position: relative;
}

.window {
  position: absolute;
  background: var(--bg-window);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border-radius: 12px;
  box-shadow: 0 20px 40px rgba(0,0,0,0.3);
  display: flex;
  flex-direction: column;
  overflow: hidden;
  border: 1px solid var(--glass-border);
}

.window-header {
  background: transparent;
  height: 38px;
  display: flex;
  align-items: center;
  padding: 0 12px;
  cursor: grab;
  border-bottom: 1px solid var(--glass-border);
}

.window-header:active {
  cursor: grabbing;
}

.mac-controls {
  display: flex;
  gap: 8px;
  width: 60px;
}

.mac-dot {
  width: 12px;
  height: 12px;
  border-radius: 50%;
  cursor: pointer;
}

.dot-close { background: #FF5F56; }
.dot-min { background: #FFBD2E; }
.dot-max { background: #27C93F; }

.window-title {
  flex-grow: 1;
  text-align: center;
  font-size: 13px;
  font-weight: 500;
  pointer-events: none;
  margin-right: 60px; 
}

.window-content {
  flex-grow: 1;
  display: flex;
  overflow: auto;
}

.browser-content {
  align-items: center;
  justify-content: center;
  flex-direction: column;
}

.google-logo {
  font-size: 56px;
  font-weight: 500;
  letter-spacing: -2px;
  margin-bottom: 24px;
  font-family: 'Roboto', sans-serif;
}

.g-blue { color: #4285F4; }
.g-red { color: #EA4335; }
.g-yellow { color: #FBBC05; }
.g-green { color: #34A853; }

.search-bar {
  width: 70%;
  height: 44px;
  border-radius: 22px;
  border: 1px solid var(--glass-border);
  display: flex;
  align-items: center;
  padding: 0 16px;
  background: var(--bg-window);
  box-shadow: 0 2px 6px rgba(0,0,0,0.1);
}

.search-bar input {
  border: none;
  background: transparent;
  color: var(--text-main);
  outline: none;
  flex-grow: 1;
  margin-left: 12px;
  font-size: 16px;
}

.terminal-content {
  background: rgba(30, 30, 30, 0.95);
  color: #00ff00;
  font-family: monospace;
  padding: 12px;
  flex-direction: column;
  align-items: flex-start;
  justify-content: flex-start;
}

.settings-content {
  padding: 24px;
  flex-direction: column;
}

.switch {
  position: relative;
  display: inline-block;
  width: 44px;
  height: 24px;
}

.switch input { 
  opacity: 0;
  width: 0;
  height: 0;
}

.slider {
  position: absolute;
  cursor: pointer;
  top: 0; left: 0; right: 0; bottom: 0;
  background-color: var(--text-muted);
  transition: .4s;
  border-radius: 24px;
}

.slider:before {
  position: absolute;
  content: "";
  height: 16px;
  width: 16px;
  left: 4px;
  bottom: 4px;
  background-color: white;
  transition: .4s;
  border-radius: 50%;
}

input:checked + .slider {
  background-color: #4285F4;
}

input:checked + .slider:before {
  transform: translateX(20px);
}

#dock-container {
  position: absolute;
  bottom: 12px;
  width: 100%;
  display: flex;
  justify-content: center;
  z-index: 1000;
}

.dock {
  display: flex;
  align-items: flex-end;
  gap: 6px;
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border-radius: 24px;
  padding: 8px 12px;
  height: 64px;
  border: 1px solid var(--glass-border);
  box-shadow: 0 10px 30px rgba(0,0,0,0.2);
}

.dock-icon {
  width: 52px;
  height: 52px;
  border-radius: 12px;
  background: #ffffff;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.2s cubic-bezier(0.25, 1, 0.5, 1);
  transform-origin: bottom;
  box-shadow: 0 4px 10px rgba(0,0,0,0.1);
  overflow: hidden;
}

.dock-icon img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.dock-icon:hover {
  transform: scale(1.6) translateY(-4px);
  margin: 0 14px;
  z-index: 10;
}

.dock-icon:has(+ .dock-icon:hover),
.dock-icon:hover + .dock-icon {
  transform: scale(1.25) translateY(-2px);
  margin: 0 8px;
}
</style>
</head>
<body>

<div id="topbar">
  <div class="topbar-section">
    <svg viewBox="0 0 24 24" width="16" height="16" class="topbar-item" onclick="toggleWindow('settingsWindow')">
      <path fill="currentColor" d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
      <path fill="currentColor" d="M12 6c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6zm0 10c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4z"/>
    </svg>
    <span class="topbar-item topbar-bold">Google OS</span>
    <span class="topbar-item">File</span>
    <span class="topbar-item">Edit</span>
    <span class="topbar-item">View</span>
    <span class="topbar-item">Window</span>
    <span class="topbar-item">Help</span>
  </div>
  <div class="topbar-section">
    <span class="topbar-item" onclick="window.open('https://github.com/morbitzlovescheerios/windowstesty', '_blank')">Source: morbitzlovescheerios/windowstesty</span>
    <span class="material-icons topbar-item" style="font-size: 16px;">signal_wifi_4_bar</span>
    <span class="material-icons topbar-item" style="font-size: 16px;">battery_full</span>
    <span class="topbar-item" id="clock"></span>
  </div>
</div>

<div id="desktop">
  
  <div class="window" id="browserWindow" style="display:none; width: 750px; height: 480px; top: 12%; left: 15%;">
    <div class="window-header" id="browserWindowheader">
      <div class="mac-controls">
        <div class="mac-dot dot-close" onclick="document.getElementById('browserWindow').style.display='none'"></div>
        <div class="mac-dot dot-min"></div>
        <div class="mac-dot dot-max"></div>
      </div>
      <div class="window-title">Browser</div>
    </div>
    <div class="window-content browser-content">
      <div class="google-logo">
        <span class="g-blue">G</span><span class="g-red">o</span><span class="g-yellow">o</span><span class="g-blue">g</span><span class="g-green">l</span><span class="g-red">e</span>
      </div>
      <div class="search-bar">
        <span class="material-icons" style="color: var(--text-muted);">search</span>
        <input type="text" id="browserSearchInput" placeholder="Search Google or type a URL">
      </div>
    </div>
  </div>

  <div class="window" id="terminalWindow" style="display:none; width: 550px; height: 380px; top: 20%; left: 25%;">
    <div class="window-header" id="terminalWindowheader" style="background: rgba(40,40,40,0.8); border-bottom: 1px solid #111;">
      <div class="mac-controls">
        <div class="mac-dot dot-close" onclick="document.getElementById('terminalWindow').style.display='none'"></div>
        <div class="mac-dot dot-min"></div>
        <div class="mac-dot dot-max"></div>
      </div>
      <div class="window-title" style="color: #fff;">Terminal</div>
    </div>
    <div class="window-content terminal-content">
      <div style="margin-bottom: 10px;">Google OS Darwin Engine v2.0</div>
      <div style="display: flex; width: 100%;">
        <span style="margin-right: 8px;">orbitz@google-mac:~$</span>
        <input type="text" id="termInput" style="background: transparent; border: none; color: #00ff00; outline: none; flex-grow: 1; font-family: monospace; font-size: 14px;">
      </div>
      <div id="termOutput" style="width: 100%; text-align: left; white-space: pre-wrap; margin-top: 10px;"></div>
    </div>
  </div>

  <div class="window" id="settingsWindow" style="display:none; width: 450px; height: 320px; top: 25%; left: 30%;">
    <div class="window-header" id="settingsWindowheader">
      <div class="mac-controls">
        <div class="mac-dot dot-close" onclick="document.getElementById('settingsWindow').style.display='none'"></div>
        <div class="mac-dot dot-min"></div>
        <div class="mac-dot dot-max"></div>
      </div>
      <div class="window-title">System Preferences</div>
    </div>
    <div class="window-content settings-content">
      <h2 style="margin-top:0;">Appearance</h2>
      <div style="display: flex; align-items: center; justify-content: space-between; padding: 16px; background: rgba(128,128,128,0.1); border-radius: 8px;">
         <span style="font-weight: 500;">Dark Mode</span>
         <label class="switch">
           <input type="checkbox" id="darkModeToggle">
           <span class="slider"></span>
         </label>
      </div>
    </div>
  </div>

</div>

<div id="dock-container">
  <div class="dock">
    <div class="dock-icon" onclick="toggleWindow('browserWindow')">
      <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/c/c2/Google_Chrome_icon_%282011%29.svg/2048px-Google_Chrome_icon_%282011%29.svg.png" alt="Chrome">
    </div>
    <div class="dock-icon" onclick="window.open('https://github.com/morbitzlovescheerios/windowstesty', '_blank')">
      <img src="https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png" alt="GitHub">
    </div>
    <div class="dock-icon" onclick="window.open('https://vscode.dev', '_blank')">
      <img src="https://upload.wikimedia.org/wikipedia/commons/9/9a/Visual_Studio_Code_1.35_icon.svg" alt="VS Code">
    </div>
    <div class="dock-icon" onclick="toggleWindow('terminalWindow')">
      <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/b/b3/Terminalicon2.png/512px-Terminalicon2.png" alt="Terminal">
    </div>
    <div class="dock-icon" onclick="toggleWindow('settingsWindow')">
      <span class="material-icons" style="font-size: 32px; color: #5f6368;">settings</span>
    </div>
  </div>
</div>

<script>
  let zIndexCount = 10;

  function updateTime() {
    const now = new Date();
    const days = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
    let day = days[now.getDay()];
    let hours = now.getHours();
    let minutes = now.getMinutes();
    const ampm = hours >= 12 ? 'PM' : 'AM';
    hours = hours % 12;
    hours = hours ? hours : 12; 
    minutes = minutes < 10 ? '0' + minutes : minutes;
    document.getElementById('clock').textContent = day + ' ' + hours + ':' + minutes + ' ' + ampm;
  }
  
  setInterval(updateTime, 1000);
  updateTime();

  function toggleWindow(id) {
    let el = document.getElementById(id);
    if (el.style.display === 'none') {
      el.style.display = 'flex';
      zIndexCount++;
      el.style.zIndex = zIndexCount;
    } else {
      zIndexCount++;
      el.style.zIndex = zIndexCount;
    }
  }

  function makeDraggable(elmnt) {
    let pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;
    let header = document.getElementById(elmnt.id + "header");
    
    elmnt.onmousedown = function() {
      zIndexCount++;
      elmnt.style.zIndex = zIndexCount;
    };

    if (header) {
      header.onmousedown = dragMouseDown;
    } else {
      elmnt.onmousedown = dragMouseDown;
    }

    function dragMouseDown(e) {
      e = e || window.event;
      e.preventDefault();
      zIndexCount++;
      elmnt.style.zIndex = zIndexCount;
      pos3 = e.clientX;
      pos4 = e.clientY;
      document.onmouseup = closeDragElement;
      document.onmousemove = elementDrag;
    }

    function elementDrag(e) {
      e = e || window.event;
      e.preventDefault();
      pos1 = pos3 - e.clientX;
      pos2 = pos4 - e.clientY;
      pos3 = e.clientX;
      pos4 = e.clientY;
      elmnt.style.top = (elmnt.offsetTop - pos2) + "px";
      elmnt.style.left = (elmnt.offsetLeft - pos1) + "px";
    }

    function closeDragElement() {
      document.onmouseup = null;
      document.onmousemove = null;
    }
  }

  ['browserWindow', 'terminalWindow', 'settingsWindow'].forEach(id => {
    makeDraggable(document.getElementById(id));
  });

  document.getElementById('browserSearchInput').addEventListener('keypress', function(e) {
    if (e.key === 'Enter' && e.target.value.trim() !== '') {
      window.open('https://www.google.com/search?q=' + encodeURIComponent(e.target.value), '_blank');
      e.target.value = '';
    }
  });

  document.getElementById('termInput').addEventListener('keypress', function(e) {
    if (e.key === 'Enter') {
      let val = this.value;
      let out = document.getElementById('termOutput');
      out.textContent += "\norbitz@google-mac:~$ " + val;
      if (val.trim() === 'date') {
        out.textContent += "\n" + new Date().toString();
      } else if (val.trim() === 'clear') {
        out.textContent = "";
      } else if (val.trim() !== '') {
        out.textContent += "\nCommand not found: " + val;
      }
      this.value = '';
      out.scrollTop = out.scrollHeight;
    }
  });

  document.getElementById('darkModeToggle').addEventListener('change', function(e) {
    if (e.target.checked) {
      document.documentElement.setAttribute('data-theme', 'dark');
    } else {
      document.documentElement.removeAttribute('data-theme');
    }
  });
</script>
</body>
</html>
</script>

</body>
</html>
